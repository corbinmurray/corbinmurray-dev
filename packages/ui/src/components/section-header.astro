---
const { title, punctuation = "." } = Astro.props;
---

<section class="relative mb-12 md:mb-24 pb-6 md:pb-12 overflow-hidden">
	<h1 class="relative leading-normal">
		{title}
		<span class="absolute text-accent">{punctuation}</span>
	</h1>
	<div
		id="animate-underline"
		class="absolute h-1 bg-primary left-0 bottom-0 w-16 md:w-20 lg:w-24
    opacity-0 -translate-x-full transition-all duration-700 ease-[cubic-bezier(0.33,1,0.68,1)]">
	</div>
</section>

<script>
	const observer = new IntersectionObserver((entries) => {
		entries.forEach((entry) => {
			if (entry.isIntersecting) {
				entry.target.classList.add("opacity-100", "translate-x-0");
			}
		});
	});

	document.querySelectorAll("#animate-underline").forEach((el) => observer.observe(el));
</script>
