---
const { id, className } = Astro.props;
import { cn } from "@repo/ui/lib/utils";
---

<section id={id} class={cn(className)}>
	<div
		id="reveal-content"
		data-in-view="false"
		class="w-full opacity-0 translate-y-[75px] transition-all duration-700
             data-[in-view=true]:opacity-100 data-[in-view=true]:translate-y-0
             [transition-timing-function:cubic-bezier(0.33,1,0.68,1)]">
		<slot />
	</div>
</section>

<script>
	const observer = new IntersectionObserver((entries) => {
		entries.forEach((entry) => {
			if (entry.isIntersecting) {
				entry.target.setAttribute("data-in-view", "true");
			}
		});
	});

	document.querySelectorAll("#reveal-content").forEach((el) => observer.observe(el));
</script>
